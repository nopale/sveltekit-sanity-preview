{"version":3,"file":"without-secret-search-params.cjs","sources":["../src/withoutSecretSearchParams.ts"],"sourcesContent":["import {\n  urlSearchParamPreviewPathname,\n  urlSearchParamPreviewPerspective,\n  urlSearchParamPreviewSecret,\n} from './constants'\n\n/** @alpha */\nexport function withoutSecretSearchParams(url: URL): URL {\n  const newUrl = new URL(url)\n  const {searchParams} = newUrl\n  searchParams.delete(urlSearchParamPreviewPathname)\n  searchParams.delete(urlSearchParamPreviewSecret)\n  searchParams.delete(urlSearchParamPreviewPerspective)\n  return newUrl\n}\n\n/** @alpha */\nexport function hasSecretSearchParams(url: URL): boolean {\n  return url.searchParams.has(urlSearchParamPreviewSecret)\n}\n\n/** @alpha */\nexport function setSecretSearchParams(\n  url: URL,\n  secret: string,\n  redirectTo: string,\n  perspective: string,\n): URL {\n  const newUrl = new URL(url)\n  const {searchParams} = newUrl\n  searchParams.set(urlSearchParamPreviewSecret, secret)\n  searchParams.set(urlSearchParamPreviewPathname, redirectTo)\n  searchParams.set(urlSearchParamPreviewPerspective, perspective)\n  return newUrl\n}\n"],"names":["urlSearchParamPreviewPathname","urlSearchParamPreviewSecret","urlSearchParamPreviewPerspective"],"mappings":";;;AAOO,SAAS,0BAA0B,KAAe;AACvD,QAAM,SAAS,IAAI,IAAI,GAAG,GACpB,EAAC,iBAAgB;AACV,SAAA,aAAA,OAAOA,UAA6B,6BAAA,GACjD,aAAa,OAAOC,UAA2B,2BAAA,GAC/C,aAAa,OAAOC,UAAAA,gCAAgC,GAC7C;AACT;AAGO,SAAS,sBAAsB,KAAmB;AAChD,SAAA,IAAI,aAAa,IAAID,qCAA2B;AACzD;AAGO,SAAS,sBACd,KACA,QACA,YACA,aACK;AACL,QAAM,SAAS,IAAI,IAAI,GAAG,GACpB,EAAC,iBAAgB;AACvB,SAAA,aAAa,IAAIA,UAAAA,6BAA6B,MAAM,GACpD,aAAa,IAAID,UAA+B,+BAAA,UAAU,GAC1D,aAAa,IAAIE,UAAAA,kCAAkC,WAAW,GACvD;AACT;;;;"}